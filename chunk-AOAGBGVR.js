import{a as _e,b as de,c as ge,d as fe}from"./chunk-IYOR7ZLU.js";import{c as H,d as U,e as G,f as J}from"./chunk-T5NRNV27.js";import{D as ce,E as me,F as pe,c as R,d as P}from"./chunk-PXV6OYIL.js";import{a as oe,e as re}from"./chunk-JG3NQ5WB.js";import{a as Q,b as Y,c as Z}from"./chunk-TVFUGTXU.js";import"./chunk-VJYCJ6K4.js";import{b as X}from"./chunk-NIG3VI6X.js";import{$a as ee,Bb as le,Eb as ae,Fb as se,Tb as ue,cb as te,fb as ne,pb as ie}from"./chunk-BNMAPOJX.js";import{Ba as p,Bd as W,Ca as u,Cd as F,Dd as j,Ed as K,Fd as E,Gd as w,Ia as O,Jd as q,Nb as c,Ob as l,Pb as C,Qb as D,Rb as $,Tb as y,Td as x,Wb as _,Yb as r,bd as k,cb as L,fc as m,gb as t,gc as S,hb as v,hc as d,jd as b,lc as I,mc as V,nc as T,pc as h,ra as z,ud as A,vb as f,yd as B,zb as s}from"./chunk-PY64W4FA.js";function ze(i,a){if(i&1&&(c(0,"p",4),m(1),c(2,"a",5),m(3),l()()),i&2){let e=r(2);t(),d(" ",e.$t("_getToken"),""),t(2),d(" ",e.$t("_readDoc"),"")}}function ve(i,a){if(i&1){let e=y();D(0),c(1,"p"),m(2),l(),c(3,"input",2),T("ngModelChange",function(n){p(e);let g=r();return V(g.token,n)||(g.token=n),u(n)}),_("keyup",function(n){p(e);let g=r();return u(g.onKey(n))}),l(),f(4,ze,4,2,"p",3),$()}if(i&2){let e=r();t(2),S(e.$t("_inputTokenMsg")),t(),I("ngModel",e.token),t(),s("ngIf",!e.isSelfDevelop)}}var M=class i{constructor(a){this.message=a}visible=!1;onCancel=new O;$t=x;isSelfDevelop=w;token="";submiting=!1;ngOnInit(){}ngAfterViewInit(){this.inputFocus()}hanldeCancel(){this.onCancel.emit()}inputFocus(){setTimeout(()=>{document.getElementById("loginInput")?.focus?.()},300)}onKey(a){a.code==="Enter"&&this.login()}login(){if(!this.token)return this.message.error(x("_pleaseInputToken"));let a=this.token.trim();this.submiting=!0,le(a).then(()=>{W(a),se({message:"auth",path:".navauth",content:"OK"}).then(()=>{ae("image").finally(()=>{this.message.success(x("_tokenVerSuc")),j().finally(()=>{window.location.reload()})})}).catch(()=>{F(),this.submiting=!1})}).catch(()=>{this.submiting=!1})}static \u0275fac=function(e){return new(e||i)(v(ue))};static \u0275cmp=z({type:i,selectors:[["app-login"]],inputs:{visible:"visible"},outputs:{onCancel:"onCancel"},standalone:!0,features:[h],decls:2,vars:3,consts:[[3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzTitle","nzOkLoading"],[4,"nzModalContent"],["id","loginInput","autofocus","","nz-input","","autofocus","",3,"ngModelChange","keyup","ngModel"],["style","margin-top: 15px",4,"ngIf"],[2,"margin-top","15px"],["href","https://github.com/xjh22222228/nav#%E9%83%A8%E7%BD%B2","target","_blank"]],template:function(e,o){e&1&&(c(0,"nz-modal",0),T("nzVisibleChange",function(g){return V(o.visible,g)||(o.visible=g),g}),_("nzOnCancel",function(){return o.hanldeCancel()})("nzOnOk",function(){return o.login()}),f(1,ve,5,3,"ng-container",1),l()),e&2&&(I("nzVisible",o.visible),s("nzTitle",o.$t("_authLogin"))("nzOkLoading",o.submiting))},dependencies:[b,k,ie,ee,te,ne,pe,me,ce,re,oe],styles:[".prefix-icon[_ngcontent-%COMP%]{width:20px;height:20px;pointer-events:none}"]})};function Se(i,a){if(i&1){let e=y();c(0,"li",6),_("click",function(){p(e);let n=r(2);return u(n.goRoute("/system/component"))}),m(1),l()}if(i&2){let e=r(2);s("nzSelected",e.currentMenu==="component"),t(),d(" ",e.$t("_components")," ")}}function he(i,a){if(i&1){let e=y();c(0,"li",6),_("click",function(){p(e);let n=r(2);return u(n.goRoute("/system/bookmarkExport"))}),m(1),l()}if(i&2){let e=r(2);s("nzSelected",e.currentMenu==="bookmarkExport"),t(),d(" ",e.$t("_bookmarkExport")," ")}}function ke(i,a){if(i&1){let e=y();c(0,"li",6),_("click",function(){p(e);let n=r(2);return u(n.goRoute("/system/collect"))}),m(1),l()}if(i&2){let e=r(2);s("nzSelected",e.currentMenu==="collect"),t(),d(" ",e.$t("_userCollect")," ")}}function be(i,a){if(i&1&&(c(0,"span",16),m(1),l()),i&2){let e=r(2);t(),S(e.date)}}function we(i,a){if(i&1){let e=y();c(0,"nz-layout",2)(1,"nz-layout")(2,"nz-sider",3)(3,"ul",4)(4,"li",5)(5,"ul")(6,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/web"))}),m(7),l(),c(8,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/setting"))}),m(9),l(),c(10,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/tag"))}),m(11),l(),c(12,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/bookmark"))}),m(13),l(),c(14,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/search"))}),m(15),l(),f(16,Se,2,2,"li",7)(17,he,2,2,"li",7)(18,ke,2,2,"li",7),c(19,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/vip"))}),m(20),l(),c(21,"li",6),_("click",function(){p(e);let n=r();return u(n.goRoute("/system/info"))}),m(22),l()()()()(),c(23,"nz-layout",8)(24,"nz-content",9)(25,"div")(26,"button",10),_("click",function(){p(e);let n=r();return u(n.goBack())}),m(27),l(),c(28,"button",11),_("click",function(){p(e);let n=r();return u(n.logout())}),m(29),l(),C(30,"img",12),c(31,"a",13),C(32,"img",14),l(),f(33,be,2,1,"span",15),l(),C(34,"router-outlet"),l()()()()}if(i&2){let e=r();t(6),s("nzSelected",e.currentMenu==="web"),t(),d(" ",e.$t("_websiteMang")," "),t(),s("nzSelected",e.currentMenu==="setting"),t(),d(" ",e.$t("_systemSet")," "),t(),s("nzSelected",e.currentMenu==="tag"),t(),d(" ",e.$t("_tagSettings")," "),t(),s("nzSelected",e.currentMenu==="bookmark"),t(),d(" ",e.$t("_bookmarkImport")," "),t(),s("nzSelected",e.currentMenu==="search"),t(),d(" ",e.$t("_searchEngines")," "),t(),s("ngIf",e.isAuthz||e.isSelfDevelop),t(),s("ngIf",e.isAuthz),t(),s("ngIf",e.isAuthz||e.isSelfDevelop),t(),s("nzSelected",e.currentMenu==="vip"),t(),d(" ",e.$t("_vipAuth")," "),t(),s("nzSelected",e.currentMenu==="info"),t(),d(" ",e.$t("_webInfo")," "),t(5),d(" ",e.$t("_backHome")," "),t(2),d(" ",e.$t("_logout")," "),t(),s("src",e.currentVersionSrc,L),t(3),s("ngIf",!e.isSelfDevelop)}}var N=class i{constructor(a){this.router=a;q()}isSelfDevelop=w;$t=x;isLogin=E;showLoginModal=!E;currentMenu="";date=document.getElementById("META-NAV")?.dataset?.date||"";currentVersionSrc=`https://img.shields.io/badge/current-v${A}-red.svg?longCache=true&style=flat-square`;isAuthz=!!B();ngOnInit(){let a=window.location.href.split("/");this.currentMenu=a.at(-1)}goBack(){this.router.navigate(["/"])}goRoute(a,e=!1){e||this.router.navigate([a])}logout(){K(),this.router.navigate(["/"]),setTimeout(()=>{location.reload()},26)}static \u0275fac=function(e){return new(e||i)(v(P))};static \u0275cmp=z({type:i,selectors:[["app-system"]],standalone:!0,features:[h],decls:2,vars:2,consts:[["class","system-layout",4,"ngIf"],[3,"visible"],[1,"system-layout"],["nzWidth","150px","nzTheme","light",1,"sidebar"],["nz-menu","","nzMode","inline",1,"sider-menu"],["nz-submenu","","nzOpen","","nzTitle","System"],["nz-menu-item","",3,"click","nzSelected"],["nz-menu-item","",3,"nzSelected","click",4,"ngIf"],[1,"inner-layout"],[1,"content"],["nz-button","",2,"margin-bottom","15px",3,"click"],["nz-button","",2,"margin-left","15px",3,"click"],[1,"ml-2.5",3,"src"],["href","https://github.com/xjh22222228/nav/releases","target","_blank"],["src","https://img.shields.io/github/v/release/xjh22222228/nav",1,"ml-2.5"],["class","ml-2.5",4,"ngIf"],[1,"ml-2.5"]],template:function(e,o){e&1&&(f(0,we,35,21,"nz-layout",0),C(1,"app-login",1)),e&2&&(s("ngIf",o.isLogin),t(),s("visible",o.showLoginModal))},dependencies:[b,k,fe,ge,_e,de,J,G,H,U,Z,Y,Q,X,M,R],styles:[".system-layout[_ngcontent-%COMP%]{min-height:100vh}.system-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:30px;background-color:#fff}.system-layout[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{z-index:3;position:fixed;top:0;left:0;bottom:0;background-color:#fff}.system-layout[_ngcontent-%COMP%]   .inner-layout[_ngcontent-%COMP%]{margin-left:170px}"]})};export{N as default};
