import{a as ie,b as se}from"./chunk-AOIESCBC.js";import{n as le}from"./chunk-EKLYUN6L.js";import{c as te,e as ee,f as ne}from"./chunk-47IEM27V.js";import{a as Xt,d as Yt,e as jt}from"./chunk-KNVDXEZ7.js";import{N as qt,P as Ut,Q as U,Ua as Jt,V as ct,Wa as G,X as dt,Xa as K,_ as Gt,ea as yt,f as Zt,ha as Kt,r as Ct,rb as ae,ua as xt,xb as oe,yb as re}from"./chunk-VQD7IILX.js";import{$ as ft,Aa as bt,Ab as Tt,Ba as f,Bb as w,Ca as b,D as Q,G as tt,Gc as rt,H as Et,I as Rt,Ia as p,Ib as y,Ja as X,Jc as _,Kb as et,La as F,Lb as nt,Ma as zt,Mb as it,Nb as z,Ob as g,Pb as P,Q as Mt,Qb as j,Ra as Wt,Rb as Z,T as Bt,Tb as N,Vb as Pt,Wb as x,Yb as l,Zb as gt,_b as st,ac as $,ba as M,bc as D,cc as v,dc as C,ec as q,fc as vt,fd as Qt,g as H,gb as h,gc as $t,gd as lt,hb as u,hc as Ht,ia as Ft,ib as _t,ka as Lt,l as J,na as O,o as Dt,oc as Vt,p as At,pc as A,qc as at,r as V,ra as k,sa as Ot,sb as W,t as pt,ta as B,vb as m,yb as Y,yc as ot,zb as c}from"./chunk-QDDULHCF.js";function xe(i,r){if(i&1&&(j(0),P(1,"span",1),Z()),i&2){let t=r.$implicit;h(),c("nzType",t)}}var Ie=()=>({minWidth:"46px"}),Se=()=>({visible:!1});function we(i,r){if(i&1&&(j(0),vt(1),Z()),i&2){let t=l().$implicit;h(),Ht(" ",t.tab.label," ")}}function Ne(i,r){if(i&1){let t=N();z(0,"li",7),x("click",function(){let n=f(t).$implicit,s=l(2);return b(s.onSelect(n))})("contextmenu",function(n){let s=f(t).$implicit,a=l(2);return b(a.onContextmenu(s,n))}),m(1,we,2,1,"ng-container",8),g()}if(i&2){let t=r.$implicit;w("ant-tabs-dropdown-menu-item-disabled",t.disabled),c("nzSelected",t.active)("nzDisabled",t.disabled),h(),c("nzStringTemplateOutlet",t.tab.label)("nzStringTemplateOutletContext",at(6,Se))}}function ke(i,r){if(i&1&&(z(0,"ul",4),nt(1,Ne,2,7,"li",6,et),g()),i&2){let t=l();h(),it(t.items)}}function De(i,r){if(i&1){let t=N();z(0,"button",9),x("click",function(){f(t);let n=l();return b(n.addClicked.emit())}),g()}if(i&2){let t=l();c("addIcon",t.addIcon)}}var Ae=["navWarp"],Ee=["navList"],Re=["*"];function Me(i,r){if(i&1){let t=N();z(0,"button",8),x("click",function(){f(t);let n=l();return b(n.addClicked.emit())}),g()}if(i&2){let t=l();c("addIcon",t.addIcon),Y("tabindex",-1)}}function Be(i,r){}function Fe(i,r){if(i&1&&(z(0,"div",7),m(1,Be,0,0,"ng-template",9),g()),i&2){let t=l();h(),c("ngTemplateOutlet",t.extraTemplate)}}var Le=["nz-tab-body",""];function Oe(i,r){}function We(i,r){if(i&1&&(j(0),P(1,"span",1),Z()),i&2){let t=r.$implicit;h(),c("nzType",t)}}var Pe=["contentTemplate"],$e=[[["","nz-tab-link",""]],"*"],He=["[nz-tab-link]","*"];function Ve(i,r){i&1&&st(0)}function Qe(i,r){i&1&&st(0,1)}var Xe=()=>({visible:!0});function Ye(i,r){if(i&1&&(j(0),vt(1),Z()),i&2){let t=l().$implicit;h(),$t(t.label)}}function je(i,r){if(i&1){let t=N();z(0,"button",10),x("click",function(n){f(t);let s=l().$index,a=l(2);return b(a.onClose(s,n))}),g()}if(i&2){let t=l().$implicit;c("closeIcon",t.nzCloseIcon)}}function Ze(i,r){if(i&1){let t=N();z(0,"div",6),x("click",function(n){let s=f(t),a=s.$implicit,o=s.$index,d=l(2);return b(d.clickNavItem(a,o,n))})("contextmenu",function(n){let s=f(t).$implicit,a=l(2);return b(a.contextmenuNavItem(s,n))}),z(1,"button",7),m(2,Ye,2,1,"ng-container",8)(3,je,1,1,"button",9),g()()}if(i&2){let t=r.$implicit,e=r.$index,n=l(2);Tt("margin-right",n.position==="horizontal"?n.nzTabBarGutter:null,"px")("margin-bottom",n.position==="vertical"?n.nzTabBarGutter:null,"px"),w("ant-tabs-tab-active",n.nzSelectedIndex===e)("ant-tabs-tab-disabled",t.nzDisabled),h(),c("id",n.getTabContentId(e))("disabled",t.nzDisabled)("tab",t)("active",n.nzSelectedIndex===e),Y("tabIndex",n.getTabIndex(t,e))("aria-disabled",t.nzDisabled)("aria-selected",n.nzSelectedIndex===e&&!n.nzHideAll)("aria-controls",n.getTabContentId(e)),h(),c("nzStringTemplateOutlet",t.label)("nzStringTemplateOutletContext",at(19,Xe)),h(),y(t.nzClosable&&n.closable&&!t.nzDisabled?3:-1)}}function qe(i,r){if(i&1){let t=N();z(0,"nz-tabs-nav",4),x("tabScroll",function(n){f(t);let s=l();return b(s.nzTabListScroll.emit(n))})("selectFocusedIndex",function(n){f(t);let s=l();return b(s.setSelectedIndex(n))})("addClicked",function(){f(t);let n=l();return b(n.onAdd())}),nt(1,Ze,4,20,"div",5,et),g()}if(i&2){let t=l();c("ngStyle",t.nzTabBarStyle)("selectedIndex",t.nzSelectedIndex||0)("inkBarAnimated",t.inkBarAnimated)("addable",t.addable)("addIcon",t.nzAddIcon)("hideBar",t.nzHideAll)("position",t.position)("extraTemplate",t.nzTabBarExtraContent),h(),it(t.tabs)}}function Ue(i,r){}function Ge(i,r){if(i&1&&m(0,Ue,0,0,"ng-template",11),i&2){l();let t=q(4);c("ngTemplateOutlet",t)}}function Ke(i,r){}function Je(i,r){if(i&1&&m(0,Ke,0,0,"ng-template",11),i&2){l(2);let t=q(4);c("ngTemplateOutlet",t)}}function tn(i,r){if(i&1&&m(0,Je,1,1,null,11),i&2){let t=l().$index,e=l(2);y(e.nzSelectedIndex===t?0:-1)}}function en(i,r){}function nn(i,r){if(i&1&&m(0,en,0,0,"ng-template",11),i&2){l(2);let t=q(4);c("ngTemplateOutlet",t)}}function sn(i,r){if(i&1&&m(0,nn,1,1,null,11),i&2){let t=l(),e=t.$implicit,n=t.$index,s=l(2);y(s.nzSelectedIndex===n||e.hasBeenActive?0:-1)}}function an(i,r){if(i&1&&P(0,"div",12),i&2){let t=l(),e=t.$implicit,n=t.$index,s=l(2);c("id",s.getTabContentId(n))("active",s.nzSelectedIndex===n)("content",e.content)("animated",s.tabPaneAnimated),Y("aria-labelledby",s.getTabContentId(n))}}function on(i,r){if(i&1&&m(0,Ge,1,1,null,11)(1,tn,1,1)(2,sn,1,1)(3,an,1,5,"ng-template",null,0,ot),i&2){let t=r.$implicit,e=l(2);y(t.nzForceRender?0:e.nzDestroyInactiveTabPane?1:2)}}function rn(i,r){if(i&1&&nt(0,on,5,1,null,null,et),i&2){let t=l();it(t.tabs)}}var mt=(()=>{class i{constructor(t){this.elementRef=t,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static{this.\u0275fac=function(e){return new(e||i)(u(F))}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},standalone:!0,features:[A],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){e&1&&m(0,xe,2,1,"ng-container",0),e&2&&c("nzStringTemplateOutlet",n.addIcon)},dependencies:[K,G,dt,ct],encapsulation:2})}}return i})(),ce=(()=>{class i{get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}constructor(t,e){this.elementRef=t,this.ngZone=e,this.position="horizontal",this.animated=!0,this.animationMode=O(Wt,{optional:!0})}alignToElement(t){this.ngZone.runOutsideAngular(()=>{xt(()=>this.setStyles(t))})}setStyles(t){let e=this.elementRef.nativeElement;this.position==="horizontal"?(e.style.top="",e.style.height="",e.style.left=this.getLeftPosition(t),e.style.width=this.getElementWidth(t)):(e.style.left="",e.style.width="",e.style.top=this.getTopPosition(t),e.style.height=this.getElementHeight(t))}getLeftPosition(t){return t?`${t.offsetLeft||0}px`:"0"}getElementWidth(t){return t?`${t.offsetWidth||0}px`:"0"}getTopPosition(t){return t?`${t.offsetTop||0}px`:"0"}getElementHeight(t){return t?`${t.offsetHeight||0}px`:"0"}static{this.\u0275fac=function(e){return new(e||i)(u(F),u(X))}}static{this.\u0275dir=B({type:i,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(e,n){e&2&&w("ant-tabs-ink-bar-animated",n._animated)},inputs:{position:"position",animated:"animated"},standalone:!0})}}return i})(),ue=(()=>{class i{constructor(t){this.elementRef=t,this.disabled=!1,this.active=!1,this.el=t.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static{this.\u0275fac=function(e){return new(e||i)(u(F))}}static{this.\u0275dir=B({type:i,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",_],tab:"tab",active:[2,"active","active",_]},standalone:!0,features:[W]})}}return i})(),It=(()=>{class i{constructor(t,e){this.cdr=t,this.elementRef=e,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new p,this.selected=new p,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(t){t.disabled||(t.tab.nzClick.emit(),this.selected.emit(t))}onContextmenu(t,e){t.disabled||t.tab.nzContextmenu.emit(e)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(t){t||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static{this.\u0275fac=function(e){return new(e||i)(u(rt),u(F))}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(e,n){e&2&&w("ant-tabs-nav-operations-hidden",n.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",_],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],standalone:!0,features:[W,A],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nz-icon","","nzType","ellipsis"],["nz-menu",""],["nz-tab-add-button","",3,"addIcon"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(e,n){if(e&1){let s=N();z(0,"button",2,0),x("nzVisibleChange",function(o){return f(s),b(n.menuVisChange(o))})("mouseenter",function(){return f(s),b(n.showItems())}),P(2,"span",3),g(),z(3,"nz-dropdown-menu",null,1),m(5,ke,3,0,"ul",4),g(),m(6,De,1,1,"button",5)}if(e&2){let s=q(4);c("nzDropdownMenu",s)("nzOverlayStyle",at(5,Ie))("nzMatchWidthElement",null),h(5),y(n.menuOpened?5:-1),h(),y(n.addable?6:-1)}},dependencies:[dt,ct,K,G,mt,se,ne,ee,te,ie],encapsulation:2,changeDetection:0})}}return i})(),ln=.1,de=.01,ht=20,he=.995**ht,cn=(()=>{class i{constructor(t,e){this.ngZone=t,this.elementRef=e,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new p,this.tabScroll=new p,this.onTouchEnd=n=>{if(!this.touchPosition)return;let s=this.lastOffset,a=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,s){let o=s.x/a,d=s.y/a,I=Math.abs(o),E=Math.abs(d);if(Math.max(I,E)<ln)return;let S=o,R=d;this.motion=window.setInterval(()=>{if(Math.abs(S)<de&&Math.abs(R)<de){window.clearInterval(this.motion);return}S*=he,R*=he,this.onOffset(S*ht,R*ht,n)},ht)}},this.onTouchMove=n=>{if(!this.touchPosition)return;n.preventDefault();let{screenX:s,screenY:a}=n.touches[0],o=s-this.touchPosition.x,d=a-this.touchPosition.y;this.onOffset(o,d,n);let I=Date.now();this.lastTimeDiff=I-this.lastTimestamp,this.lastTimestamp=I,this.lastOffset={x:o,y:d},this.touchPosition={x:s,y:a}},this.onTouchStart=n=>{let{screenX:s,screenY:a}=n.touches[0];this.touchPosition={x:s,y:a},window.clearInterval(this.motion)},this.onWheel=n=>{let{deltaX:s,deltaY:a}=n,o,d=Math.abs(s),I=Math.abs(a);d===I?o=this.lastWheelDirection==="x"?s:a:d>I?(o=s,this.lastWheelDirection="x"):(o=a,this.lastWheelDirection="y");let E=Date.now(),S=Math.abs(o);(E-this.lastWheelTimestamp>100||S-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-o,-o,n),(n.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=E,this.lastMixedWheel=S}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{let t=this.elementRef.nativeElement,e=Q(t,"wheel"),n=Q(t,"touchstart"),s=Q(t,"touchmove"),a=Q(t,"touchend"),o=new H;return o.add(this.subscribeWrap("wheel",e,this.onWheel)),o.add(this.subscribeWrap("touchstart",n,this.onTouchStart)),o.add(this.subscribeWrap("touchmove",s,this.onTouchMove)),o.add(this.subscribeWrap("touchend",a,this.onTouchEnd)),()=>{o.unsubscribe()}})}subscribeWrap(t,e,n){return e.subscribe(s=>{this.tabScroll.emit({type:t,event:s}),s.defaultPrevented||n(s)})}onOffset(t,e,n){this.ngZone.run(()=>{this.offsetChange.emit({x:t,y:e,event:n})})}ngOnDestroy(){this.unsubscribe()}static{this.\u0275fac=function(e){return new(e||i)(u(X),u(F))}}static{this.\u0275dir=B({type:i,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"},standalone:!0})}}return i})(),dn=typeof requestAnimationFrame<"u"?At:Dt,me=150,St=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){let e=Ct(t);this._selectedIndex!==e&&(this._selectedIndex=t,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(t))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(t){!this.isValidIndex(t)||this.focusIndex===t||!this.keyManager||this.keyManager.setActiveItem(t)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}constructor(t,e,n,s,a){this.cdr=t,this.ngZone=e,this.viewportRuler=n,this.nzResizeObserver=s,this.dir=a,this.indexFocused=new p,this.selectFocusedIndex=new p,this.addClicked=new p,this.tabScroll=new p,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new J,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1}ngAfterViewInit(){let t=this.dir?this.dir.change.asObservable():pt(null),e=this.viewportRuler.change(150),n=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new ae(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),xt(n),tt(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(M(this.destroy$),Rt(16,dn)).subscribe(()=>{n()}),tt(t,e,this.items.changes).pipe(M(this.destroy$)).subscribe(()=>{Promise.resolve().then(n),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(M(this.destroy$)).subscribe(s=>{this.indexFocused.emit(s),this.setTabFocus(s),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(t){let e=this.items.toArray().findIndex(n=>n===t);e!==-1&&(this.keyManager.updateActiveItem(e),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(t)))}onOffsetChange(t){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&t.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&t.x<0))return;t.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+t.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&t.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&t.y<0))return;t.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+t.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(t){let e=this.navWarpRef.nativeElement.contains(t.target);if(!(Gt(t)||!e))switch(t.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(t);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(t)}}isValidIndex(t){if(!this.items)return!0;let e=this.items?this.items.toArray()[t]:null;return!!e&&!e.disabled}scrollToTab(t){if(!this.items.find(n=>n===t))return;let e=this.items.toArray();if(this.position==="horizontal"){let n=this.transformX;if(this.getLayoutDirection()==="rtl"){let s=e[0].left+e[0].width-t.left-t.width;s<this.transformX?n=s:s+t.width>this.transformX+this.wrapperWidth&&(n=s+t.width-this.wrapperWidth)}else t.left<-this.transformX?n=-t.left:t.left+t.width>-this.transformX+this.wrapperWidth&&(n=-(t.left+t.width-this.wrapperWidth));this.transformX=n,this.transformY=0,this.setTransform(n,0)}else{let n=this.transformY;t.top<-this.transformY?n=-t.top:t.top+t.height>-this.transformY+this.wrapperHeight&&(n=-(t.top+t.height-this.wrapperHeight)),this.transformY=n,this.transformX=0,this.setTransform(0,n)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},me)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},me)})}setTransform(t,e){this.navListRef.nativeElement.style.transform=`translate(${t}px, ${e}px)`}clampTransformX(t){let e=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(e,t),0):Math.min(Math.max(e,t),0)}clampTransformY(t){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,t),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let t=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e&&this.inkBar.alignToElement(e.parentElement)}setPingStatus(){let t={top:!1,right:!1,bottom:!1,left:!1},e=this.navWarpRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(t.right=this.transformX>0,t.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(t.left=this.transformX<0,t.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(t.top=this.transformY<0,t.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(t).forEach(n=>{let s=`ant-tabs-nav-wrap-ping-${n}`;t[n]?e.classList.add(s):e.classList.remove(s)})}setVisibleRange(){let t,e,n,s,a,o,d=this.items.toArray(),I={width:0,height:0,left:0,top:0,right:0},E=T=>{let L,ut=d[T]||I;return e==="right"?L=d[0].left+d[0].width-d[T].left-d[T].width:L=ut[e],L};this.position==="horizontal"?(t="width",s=this.wrapperWidth,a=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),o=this.addButtonWidth,n=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(e="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,e="left")):(t="height",s=this.wrapperHeight,a=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),o=this.addButtonHeight,e="top",n=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let S=s;if(a+o>s&&(S=s-o),!d.length){this.hiddenItems=[],this.cdr.markForCheck();return}let R=d.length,Nt=R;for(let T=0;T<R;T+=1){let L=E(T),ut=d[T]||I;if(L+ut[t]>n+S){Nt=T-1;break}}let kt=0;for(let T=R-1;T>=0;T-=1)if(E(T)<n){kt=T+1;break}let be=d.slice(0,kt),ze=d.slice(Nt+1);this.hiddenItems=[...be,...ze],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}setTabFocus(t){}ngOnChanges(t){let{position:e}=t;e&&!e.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static{this.\u0275fac=function(e){return new(e||i)(u(rt),u(X),u(Kt),u(le),u(yt))}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tabs-nav"]],contentQueries:function(e,n,s){if(e&1&&$(s,ue,5),e&2){let a;v(a=C())&&(n.items=a)}},viewQuery:function(e,n){if(e&1&&(D(Ae,7),D(Ee,7),D(It,7),D(mt,5),D(ce,7)),e&2){let s;v(s=C())&&(n.navWarpRef=s.first),v(s=C())&&(n.navListRef=s.first),v(s=C())&&(n.operationRef=s.first),v(s=C())&&(n.addBtnRef=s.first),v(s=C())&&(n.inkBar=s.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(e,n){e&1&&x("keydown",function(a){return n.handleKeydown(a)})},inputs:{position:"position",addable:[2,"addable","addable",_],hideBar:[2,"hideBar","hideBar",_],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],standalone:!0,features:[W,bt,A],ngContentSelectors:Re,decls:9,vars:16,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],[1,"ant-tabs-extra-content"],["role","tab","nz-tab-add-button","",3,"click","addIcon"],[3,"ngTemplateOutlet"]],template:function(e,n){if(e&1){let s=N();gt(),z(0,"div",2,0)(2,"div",3,1),x("offsetChange",function(o){return f(s),b(n.onOffsetChange(o))})("tabScroll",function(o){return f(s),b(n.tabScroll.emit(o))}),st(4),m(5,Me,1,2,"button",4),P(6,"div",5),g()(),z(7,"nz-tab-nav-operation",6),x("addClicked",function(){return f(s),b(n.addClicked.emit())})("selected",function(o){return f(s),b(n.onSelectedFromMenu(o))}),g(),m(8,Fe,2,1,"div",7)}e&2&&(w("ant-tabs-nav-wrap-ping-left",n.pingLeft)("ant-tabs-nav-wrap-ping-right",n.pingRight)("ant-tabs-nav-wrap-ping-top",n.pingTop)("ant-tabs-nav-wrap-ping-bottom",n.pingBottom),h(5),y(n.showAddButton?5:-1),h(),c("hidden",n.hideBar)("position",n.position)("animated",n.inkBarAnimated),h(),c("addIcon",n.addIcon)("addable",n.addable)("items",n.hiddenItems),h(),y(n.extraTemplate?8:-1))},dependencies:[cn,mt,ce,It,lt],encapsulation:2,changeDetection:0})}}return i})(),hn=(()=>{class i{constructor(){this.content=null,this.active=!1,this.animated=!0}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=k({type:i,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(e,n){e&2&&(Pt("@tabSwitchMotion",n.active?"enter":"leave")("@.disabled",!n.animated),Y("tabindex",n.active?0:-1)("aria-hidden",!n.active),Tt("overflow-y",n.animated?n.active?null:"none":null),w("ant-tabs-tabpane-active",n.active)("ant-tabs-tabpane-hidden",n.animated?null:!n.active))},inputs:{content:"content",active:"active",animated:"animated"},exportAs:["nzTabBody"],standalone:!0,features:[A],attrs:Le,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(e,n){e&1&&m(0,Oe,0,0,"ng-template",0),e&2&&c("ngTemplateOutlet",n.content)},dependencies:[lt],encapsulation:2,data:{animation:[Jt]},changeDetection:0})}}return i})(),pe=(()=>{class i{constructor(){this.closeIcon="close"}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},standalone:!0,features:[A],decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(e,n){e&1&&m(0,We,2,1,"ng-container",0),e&2&&c("nzStringTemplateOutlet",n.closeIcon)},dependencies:[K,G,dt,ct],encapsulation:2})}}return i})(),mn=(()=>{class i{constructor(){this.templateRef=O(_t,{host:!0})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=B({type:i,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"],standalone:!0})}}return i})(),un=(()=>{class i{constructor(t){this.elementRef=t,this.routerLink=O(jt,{self:!0,optional:!0})}static{this.\u0275fac=function(e){return new(e||i)(u(F))}}static{this.\u0275dir=B({type:i,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"],standalone:!0})}}return i})(),pn=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275dir=B({type:i,selectors:[["","nz-tab",""]],exportAs:["nzTab"],standalone:!0})}}return i})(),fe=new Lt("NZ_TAB_SET"),fn=(()=>{class i{constructor(){this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new p,this.nzDeselect=new p,this.nzClick=new p,this.nzContextmenu=new p,this.template=null,this.isActive=!1,this.hasBeenActive=!1,this.position=null,this.origin=null,this.closestTabSet=O(fe),this.stateChanges=new J}get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(t){let{nzTitle:e,nzDisabled:n,nzForceRender:s}=t;(e||n||s)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}setActive(t){this.isActive=t,t&&(this.hasBeenActive=!0)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tab"]],contentQueries:function(e,n,s){if(e&1&&($(s,mn,5),$(s,pn,5,_t),$(s,un,5)),e&2){let a;v(a=C())&&(n.nzTabLinkTemplateDirective=a.first),v(a=C())&&(n.template=a.first),v(a=C())&&(n.linkDirective=a.first)}},viewQuery:function(e,n){if(e&1&&D(Pe,7),e&2){let s;v(s=C())&&(n.contentTemplate=s.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",_],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",_],nzForceRender:[2,"nzForceRender","nzForceRender",_]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],standalone:!0,features:[W,bt,A],ngContentSelectors:He,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(e,n){e&1&&(gt($e),m(0,Ve,1,0,"ng-template",null,0,ot)(2,Qe,1,0,"ng-template",null,1,ot))},encapsulation:2,changeDetection:0})}}return i})(),wt=class{},bn="tabs",zn=0,_n=(()=>{class i{get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(t){this.indexToSelect=Ct(t,null)}get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}constructor(t,e,n,s){this.nzConfigService=t,this.ngZone=e,this.cdr=n,this.directionality=s,this._nzModuleName=bn,this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzDestroyInactiveTabPane=!1,this.nzSelectChange=new p(!0),this.nzSelectedIndexChange=new p,this.nzTabListScroll=new p,this.nzClose=new p,this.nzAdd=new p,this.allTabs=new zt,this.tabs=new zt,this.dir="ltr",this.destroy$=new J,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=H.EMPTY,this.tabsSubscription=H.EMPTY,this.canDeactivateSubscription=H.EMPTY,this.router=O(Yt,{optional:!0}),this.tabSetId=zn++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(M(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let e=this.tabs.toArray();for(let n=0;n<e.length;n++)if(e[n].isActive){this.indexToSelect=this.selectedIndex=n;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let t=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==t){let e=this.selectedIndex==null;e||this.nzSelectChange.emit(this.createChangeEvent(t)),Promise.resolve().then(()=>{this.tabs.forEach((n,s)=>n.setActive(s===t)),e||this.nzSelectedIndexChange.emit(t)})}this.tabs.forEach((e,n)=>{e.position=n-t,this.selectedIndex!=null&&e.position===0&&!e.origin&&(e.origin=t-this.selectedIndex)}),this.selectedIndex!==t&&(this.selectedIndex=t,this.cdr.markForCheck())}onClose(t,e){e.preventDefault(),e.stopPropagation(),this.nzClose.emit({index:t})}onAdd(){this.nzAdd.emit()}clampTabIndex(t){return Math.min(this.tabs.length-1,Math.max(t||0,0))}createChangeEvent(t){let e=new wt;return e.index=t,this.tabs&&this.tabs.length&&(e.tab=this.tabs.toArray()[t],this.tabs.forEach((n,s)=>{s!==t&&n.nzDeselect.emit()}),e.tab.nzSelect.emit()),e}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=tt(...this.tabs.map(t=>t.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(ft(this.allTabs)).subscribe(t=>{this.tabs.reset(t.filter(e=>e.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(t,e){return typeof this.nzCanDeactivate=="function"?qt(this.nzCanDeactivate(t,e)).pipe(Bt(),M(this.destroy$)):pt(!0)}clickNavItem(t,e,n){t.nzDisabled||(t.nzClick.emit(),this.isRouterLinkClickEvent(e,n)||this.setSelectedIndex(e))}isRouterLinkClickEvent(t,e){let n=e.target;return this.nzLinkRouter?!!this.tabs.toArray()[t]?.linkDirective?.elementRef.nativeElement.contains(n):!1}contextmenuNavItem(t,e){t.nzDisabled||t.nzContextmenu.emit(e)}setSelectedIndex(t){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,t).subscribe(e=>{e&&(this.nzSelectedIndex=t,this.tabNavBarRef.focusIndex=t,this.cdr.markForCheck())})}getTabIndex(t,e){return t.nzDisabled?null:this.selectedIndex===e?0:-1}getTabContentId(t){return`nz-tabs-${this.tabSetId}-tab-${t}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${Zt} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(M(this.destroy$),Et(t=>t instanceof Xt),ft(!0),Mt(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let t=this.findShouldActiveTabIndex();t!==this.selectedIndex&&this.setSelectedIndex(t),this.nzHideAll=t===-1}}findShouldActiveTabIndex(){let t=this.tabs.toArray(),e=this.isLinkActive(this.router);return t.findIndex(n=>{let s=n.linkDirective;return s?e(s.routerLink):!1})}isLinkActive(t){return e=>e?!!t?.isActive(e.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}static{this.\u0275fac=function(e){return new(e||i)(u(Ut),u(X),u(rt),u(yt))}}static{this.\u0275cmp=k({type:i,selectors:[["nz-tabset"]],contentQueries:function(e,n,s){if(e&1&&$(s,fn,5),e&2){let a;v(a=C())&&(n.allTabs=a)}},viewQuery:function(e,n){if(e&1&&D(St,5),e&2){let s;v(s=C())&&(n.tabNavBarRef=s.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(e,n){e&2&&w("ant-tabs-card",n.nzType==="card"||n.nzType==="editable-card")("ant-tabs-editable",n.nzType==="editable-card")("ant-tabs-editable-card",n.nzType==="editable-card")("ant-tabs-centered",n.nzCentered)("ant-tabs-rtl",n.dir==="rtl")("ant-tabs-top",n.nzTabPosition==="top")("ant-tabs-bottom",n.nzTabPosition==="bottom")("ant-tabs-left",n.nzTabPosition==="left")("ant-tabs-right",n.nzTabPosition==="right")("ant-tabs-default",n.nzSize==="default")("ant-tabs-small",n.nzSize==="small")("ant-tabs-large",n.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",_],nzCentered:[2,"nzCentered","nzCentered",_],nzHideAll:[2,"nzHideAll","nzHideAll",_],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",_],nzLinkExact:[2,"nzLinkExact","nzLinkExact",_],nzDestroyInactiveTabPane:[2,"nzDestroyInactiveTabPane","nzDestroyInactiveTabPane",_]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],standalone:!0,features:[Vt([{provide:fe,useExisting:i}]),W,A],decls:4,vars:12,consts:[["tabpaneTmpl",""],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],[3,"tabScroll","selectFocusedIndex","addClicked","ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],[1,"ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],[3,"ngTemplateOutlet"],["role","tabpanel","nz-tab-body","",3,"id","active","content","animated"]],template:function(e,n){e&1&&(m(0,qe,3,8,"nz-tabs-nav",1),z(1,"div",2)(2,"div",3),m(3,rn,2,0),g()()),e&2&&(y(n.tabs.length||n.addable?0:-1),h(2),w("ant-tabs-content-top",n.nzTabPosition==="top")("ant-tabs-content-bottom",n.nzTabPosition==="bottom")("ant-tabs-content-left",n.nzTabPosition==="left")("ant-tabs-content-right",n.nzTabPosition==="right")("ant-tabs-content-animated",n.tabPaneAnimated),h(),y(n.nzHideAll?-1:3))},dependencies:[St,Qt,lt,ue,re,oe,K,G,pe,hn],encapsulation:2})}}return V([U()],i.prototype,"nzType",void 0),V([U()],i.prototype,"nzSize",void 0),V([U()],i.prototype,"nzAnimated",void 0),V([U()],i.prototype,"nzTabBarGutter",void 0),i})();var ii=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=Ot({type:i})}static{this.\u0275inj=Ft({imports:[_n,St,It,mt,pe]})}}return i})();export{fn as a,_n as b,ii as c};
